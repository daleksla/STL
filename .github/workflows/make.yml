name: Make

on:
  push:
    branches-ignore:
      - master
      - main

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Install dependancies
      run: |
        sudo apt install g++
    - name: Place files in correct directories
      run: |
        export CPLUS_INCLUDE_PATH="/usr/include"
        sudo cp -r . /usr/include/c++/9/
    - name: Make tests
      run: |
        cd ./.testing/
        make
